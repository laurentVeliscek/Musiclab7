[gd_scene load_steps=6 format=2]

[ext_resource path="res://assets/Blue_SATB_Fractalizer.PNG" type="Texture" id=1]
[ext_resource path="res://Fonts/AtkinsonHyperlegible-Regular.ttf" type="DynamicFontData" id=2]
[ext_resource path="res://Scenes/SATB_fractalizer_scene.gd" type="Script" id=3]

[sub_resource type="GDScript" id=2]
script/source = "extends Control


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"


# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass


func _on_clear_console_btn_pressed():
	$Console.text = \"\"
	



func _on_export_console_btn_pressed():
	_save_text_to_disk($Console.text, \"console.txt\")
	LogBus.info(\"ConsoleNode\",'Console.txt exported to \"user://console.txt\"')

func _save_text_to_disk(content: String, filename: String) -> void:
	# Ã‰crit dans user:// (persistance locale; en HTML5 = IndexedDB)
	var path = \"user://\" + filename
	var f = File.new()
	var err = f.open(path, File.WRITE)
	if err == OK:
		f.store_string(content)
		f.close()
"

[sub_resource type="DynamicFont" id=1]
size = 15
font_data = ExtResource( 2 )

[node name="SATB_fractalizer_scene" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 3 )

[node name="BlueSatbFractalizer" type="Sprite" parent="."]
position = Vector2( 216, 216 )
scale = Vector2( 0.304688, 0.304688 )
texture = ExtResource( 1 )

[node name="Console_Node" type="Control" parent="."]
margin_right = 40.0
margin_bottom = 40.0
script = SubResource( 2 )

[node name="Console" type="RichTextLabel" parent="Console_Node"]
margin_left = 432.0
margin_top = 60.0
margin_right = 1024.0
margin_bottom = 376.0
custom_colors/default_color = Color( 0, 0.611765, 0.976471, 1 )
custom_fonts/normal_font = SubResource( 1 )
scroll_following = true

[node name="export_console_btn" type="Button" parent="Console_Node"]
margin_left = 456.0
margin_top = 404.0
margin_right = 562.0
margin_bottom = 424.0
text = "Export console"

[node name="clear_console_btn" type="Button" parent="Console_Node"]
margin_left = 592.0
margin_top = 404.0
margin_right = 690.0
margin_bottom = 424.0
text = "Clear console"

[connection signal="pressed" from="Console_Node/export_console_btn" to="Console_Node" method="_on_export_console_btn_pressed"]
[connection signal="pressed" from="Console_Node/clear_console_btn" to="Console_Node" method="_on_clear_console_btn_pressed"]
